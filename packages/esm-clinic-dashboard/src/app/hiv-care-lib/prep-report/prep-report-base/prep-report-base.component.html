<h4 class="component-title text-success">
  <span class="fa fa-table"></span>PrEP Report
</h4>

<div class="loader" *ngIf="isLoading">
  <span><i class="fa fa-spinner fa-spin"></i>Loading...</span>
</div>

<tabset>
  <div>
    <tab heading="Monthly" leftIcon="fa-calendar-o">
      <report-filters
        [enabledControls]="enabledControls"
        [monthString]="_month"
        (onMonthChange)="onMonthChange($event)"
        [reportName]="reportName"
        (generateReport)="generateReport()"
        [showAggregateControl]="true"
      >
      </report-filters>
    </tab>
  </div>
</tabset>

<div class="alert alert-danger fade in" *ngIf="showInfoMessage">
  <a href="#" class="close" data-dismiss="alert">&times;</a>
  <h4 *ngIf="!statusError">
    <strong><span class="glyphicon glyphicon-warning-sign"></span> </strong> An
    error occurred while trying to load the report. Please try again.
  </h4>
  <p>
    <small>{{ errorMessage }}</small>
  </p>
</div>
<div *ngIf="!isReleased" class="alert alert-warning">
  <strong>Viewing a Draft Version of the Report for the chosen month. </strong>
  This report is likely to change without warning.
</div>
<div>
  <tabset>
    <tab heading="Report View"
      leftIcon="fa-file-pdf-o"
      [active]="currentViewBelow === 'pdf'"
    >
      <app-report-view
        [SummaryData]="prepReportSummaryData"
        [sectionDefs]="columnDefs"
        (CellSelection)="onIndicatorSelected($event)"
        [reportDetails]="params"
      ></app-report-view>
    </tab>
  </tabset>
</div>
